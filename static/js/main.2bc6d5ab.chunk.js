(this["webpackJsonpcrud-react-redux"]=this["webpackJsonpcrud-react-redux"]||[]).push([[0],{48:function(e,t,n){e.exports=n(80)},78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),l=n.n(c),s=n(16),u=n(18),i=n(17),o=n(9),m=n(10),d=n(12),h=n(11),p=n(13),E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={date:new Date},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,this.state.date.toLocaleTimeString()))}}]),t}(a.Component);var f=function(){return r.a.createElement("header",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"CRUD using React"),r.a.createElement("p",{className:"lead"},"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Explicabo, veniam?"),r.a.createElement(E,null)))};function b(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/",type:"button",className:"btn btn-outline-danger"},"Back Home"))}var g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={hasError:!1},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),v=n(21),U=n.n(v);var y="DEL_USER",O="ADD_USER",j="UPD_USER",x="SEARCH_USER",R="GET_USERS",C="GET_USER",N="IS_LOADING",k="IS_SUCCESS",S="IS_ERROR",I="RESET",D="IS_EDITING",L="https://desolate-taiga-56372.herokuapp.com/robots";function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...";return{type:N,payload:e}}function A(){return{type:I}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default Error Msg";return{type:S,payload:e}}var B=function(e){return function(t){t(w()),U.a.get("".concat(L,"/").concat(e)).then((function(e){return t((n=e.data,{type:C,payload:n}));var n})).catch((function(e){console.error(e.message),t(T(e.message))})).finally((function(){return setTimeout((function(){t(A())}),1500)}))}},_=function(){return function(e){e(w()),U.a.get(L).then((function(t){var n;e((n=t.data,{type:R,payload:n})),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default Success Msg";return{type:k,payload:e}}("Success Fetch"))})).catch((function(t){console.error("ERROR at fetchAllUsers::",t.message),e(T(t.message))})).finally((function(){return setTimeout((function(){e(A())}),1500)}))}};var M=function(e){return function(t){t(w()),U.a.post("".concat(L),e).then((function(e){return t(function(e){return{type:O,payload:e}}(e.data))})).catch((function(e){console.error(e.message),t(T(e.message))})).finally((function(){return setTimeout((function(){t(A())}),1500)}))}};var V=function(e){return function(t){t(w()),U.a.delete("".concat(L,"/").concat(e)).then((function(e){return t(function(e){return{type:y,payload:e}}(e.data.id))})).catch((function(e){console.error(e.message),t(T(e.message))})).finally((function(){return setTimeout((function(){t(A())}),1500)}))}};var G=function(e,t){return function(n,a){var r=a().userReducer.users;U.a.put("".concat(L,"/").concat(t),e).then((function(e){console.log(e);var a=e.data,c=a.name,l=a.username,s=a.email,u=r.map((function(e){return e.id===t?{id:t,name:c,username:l,email:s}:e}));n(function(e){return{type:j,payload:e}}(u))})).catch((function(e){console.error(e.message),n(T(e.message))})).finally((function(){return setTimeout((function(){n(A())}),1500)}))}};var P=n(22),F=function(e){return e.userReducer},H=Object(P.a)([F],(function(e){return e.users})),J=Object(P.a)([F],(function(e){return e.currentUser})),W=Object(P.a)([F],(function(e){return e.inputValue})),q=(Object(P.a)([F],(function(e){return e.isError})),Object(P.a)([F],(function(e){return e.msg})));var z=Object(s.b)((function(e){return{currentUserRx:J(e),isLoadingRx:e.userReducer.isLoading,isErrorRx:e.userReducer.isError,errorMsgRx:e.userReducer.msg}}),(function(e){return{fetchUserRx:function(t){return e(B(t))}}}))((function(e){var t=e.fetchUserRx,n=e.currentUserRx,c=e.isErrorRx,l=e.isLoadingRx,s=e.errorMsgRx,u=e.match,i=parseInt(u.params.id,10);if(Object(a.useEffect)((function(){t(i)}),[t,i]),c)return r.a.createElement("div",{className:"container"},s);if(l||!n)return r.a.createElement("div",{className:"container"},"Loading...");var o=n.id,m=n.name,d=n.username,h=n.email;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Hi,",d||"Default Username"," ",o||"no id"),r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("li",null,"Name:"," ".concat(m||"default name")),r.a.createElement("li",null,"Email:"," ".concat(h||"default email")))))}));function K(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Error Page")))}var Q=n(44),X=n(3),Y=n(4),Z=n(45),$=n.n(Z);var ee=function(e){var t=e.delUser,n=e.editUser,a=e.id;return r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group"},r.a.createElement(u.b,{to:"/read/".concat(a),type:"button",className:"btn btn-sm btn-info"},"Read"),r.a.createElement("button",{onClick:function(e){return n(e,a)},type:"button",className:"btn btn-sm btn-primary"},"Edit"),r.a.createElement("button",{onClick:function(e){return t(e,a)},type:"button",className:"btn btn-sm btn-outline-danger"},"Delete")))},te=n(19),ne=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={name:e.name,username:e.username,email:e.email},n.handleChangeInput=n.handleChangeInput.bind(Object(Y.a)(n)),n.handleUpdateBtn=n.handleUpdateBtn.bind(Object(Y.a)(n)),n.handleCancelBtn=n.handleCancelBtn.bind(Object(Y.a)(n)),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChangeInput",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(te.a)({},n,a))}},{key:"handleUpdateBtn",value:function(e){var t=this.props.id,n=this.state,a=n.name,r=n.username,c=n.email;this.props.updateUser(e,{id:t,name:a,username:r,email:c})}},{key:"handleCancelBtn",value:function(e){this.props.editUser(e,null)}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.username,a=e.email;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.id),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChangeInput,type:"text",value:t,name:"name",placeholder:"Enter Name",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChangeInput,type:"text",value:n,name:"username",placeholder:"Enter username",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChangeInput,type:"email",value:a,name:"email",placeholder:"Email",className:"form-control"})),r.a.createElement("td",{className:"btn-group"},r.a.createElement("button",{type:"button",onClick:this.handleUpdateBtn,className:"btn btn-primary "},"Update"),r.a.createElement("button",{type:"button",onClick:this.handleCancelBtn,className:"btn btn-danger"},"Cancel")))}}]),t}(r.a.Component);var ae=function(e){var t=e.editing,n=e.currentId,a=e.id,c=e.name,l=e.username,s=e.email,u=e.delUser,i=e.editUser,o=e.addUser,m=e.updateUser;return t&&a===n?r.a.createElement(ne,{addUser:o,editUser:i,updateUser:m,currentId:n,id:a,name:c,username:l,email:s}):r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,c),r.a.createElement("td",null,l||"-"),r.a.createElement("td",null,s||"-"),r.a.createElement(ee,{id:a,editUser:i,delUser:u}))};var re=Object(s.b)((function(e){return{inputValueRx:W(e)}}))((function(e){var t=e.inputValueRx,n=e.dispatch;return r.a.createElement("input",{type:"search",name:"search",className:"form-control w-75",value:t,placeholder:"Search...",onChange:function(e){return n((t=e.target.value,{type:x,payload:t}));var t}})})),ce=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={name:"",username:"",email:""},e.handleChange=e.handleChange.bind(Object(Y.a)(e)),e.handleClick=e.handleClick.bind(Object(Y.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(te.a)({},n,a))}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,n=t.nextId,a=t.addUser,r=this.state;a(e,{name:r.name,username:r.username,email:r.email,nextId:n}),this.setState({name:"",username:"",email:""})}},{key:"render",value:function(){var e=this.props.nextId,t=this.state,n=t.name,a=t.username,c=t.email;return r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChange,type:"text",value:n,name:"name",placeholder:"Enter Name",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("textarea",{onChange:this.handleChange,value:a,name:"username",placeholder:"Enter username",className:"form-control",rows:"1"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChange,type:"email",value:c,name:"email",placeholder:"enter email",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-success btn-block"},"Add User")))}}]),t}(r.a.Component);function le(e){var t=e.isLoading,n=e.isError,a=e.msg;return r.a.createElement("h4",{className:"alert ".concat((t||n)&&"alert-danger"," alert-success  text-center mb-0")},(n||t||a)&&a)}var se=function(e){var t=e.users,n=e.otherProps,a=n.isLoadingRx,c=n.isErrorRx,l=n.msgRx,s=e.updateUser,u=e.delUser,i=e.addUser,o=e.editUser,m=e.editing,d=e.currentId,h=t.length?+t[t.length-1].id+1:1,p=a||c||l;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card mx-auto"},r.a.createElement("div",{className:"card-header text-white bg-info clearfix"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Users Table")),r.a.createElement("div",{className:"col"},r.a.createElement(re,null)))),p&&r.a.createElement(le,{isLoading:a,isError:c,msg:l}),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t.length>0?t.map((function(e){return r.a.createElement(ae,{key:$.a.v4(),id:e.id,name:e.name,username:e.username,email:e.email,updateUser:s,delUser:u,editUser:o,addUser:i,editing:m,currentId:d})})):r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",{colSpan:5},"Sorry, No User Available")),r.a.createElement(ce,{nextId:h,addUser:i})))))))},ue=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={status:{isEditing:!1,currentId:null},alerts:{isEmpty:!1,alertMsg:""}},e.onDelUser=e.onDelUser.bind(Object(Y.a)(e)),e.onAddUser=e.onAddUser.bind(Object(Y.a)(e)),e.onEditUser=e.onEditUser.bind(Object(Y.a)(e)),e.onUpdateUser=e.onUpdateUser.bind(Object(Y.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsersRx()}},{key:"onDelUser",value:function(e,t){this.state.status.isEditing||this.props.fetchDeleteUserRx(t)}},{key:"onEditUser",value:function(e,t){this.setState((function(e){return{status:{isEditing:!e.status.isEditing,currentId:t}}}))}},{key:"onUpdateUser",value:function(e,t){var n=t.id,a=t.name,r=t.username,c=t.email;a&&r&&c?(this.props.fetchUpdateUserRx({name:a,username:r,email:c},n),this.setState({status:{isEditing:!1,currentId:null}})):this.setState((function(e){return{alerts:Object(X.a)({},e.alerts,{isEmpty:!0,alertMsg:"Enter Text"})}}))}},{key:"onAddUser",value:function(e,t){var n=t.name,a=t.username,r=t.email;t.nextId;n.trim()&&a.trim()&&r.trim()?this.props.fetchAddUserRx({name:n,username:a,email:r}):this.setState((function(e){return{alerts:Object(X.a)({},e,{isEmpty:!0,alertMsg:"Enter Text"})}}))}},{key:"render",value:function(){var e=this.state.status,t=e.isEditing,n=e.currentId,a=this.props,c=a.inputValueRx,l=a.usersRx,s=Object(Q.a)(a,["inputValueRx","usersRx"]),u=l.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase().trim())}));return r.a.createElement("main",null,r.a.createElement(se,{otherProps:s,users:u,delUser:this.onDelUser,addUser:this.onAddUser,editUser:this.onEditUser,updateUser:this.onUpdateUser,editing:t,currentId:n}),r.a.createElement("div",{style:{height:"300px"}}))}}]),t}(r.a.Component),ie=Object(s.b)((function(e){return{usersRx:H(e),inputValueRx:W(e),msgRx:q(e),isLoadingRx:e.userReducer.isLoading,isErrorRx:e.userReducer.isError}}),(function(e){return{fetchAddUserRx:function(t){return e(M(t))},fetchDeleteUserRx:function(t){return e(V(t))},fetchUpdateUserRx:function(t,n){return e(G(t,n))},fetchUsersRx:function(){return e(_())}}}))(ue);function oe(){return r.a.createElement(ie,null)}n(78);var me=n(20),de=(n(79),n(46)),he=n(47),pe={inputValue:"",users:[],currentUser:null,isEditing:!1,isLoading:!1,isSuccess:!1,isError:!1,msg:""},Ee=[de.a],fe=Object(me.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.type,t.payload;switch(t.type){case N:return Object(X.a)({},e,{isLoading:!0,msg:t.payload});case k:return Object(X.a)({},e,{isLoading:!1,isSuccess:!0,msg:t.payload});case S:return Object(X.a)({},e,{isLoading:!1,isError:!0,msg:t.payload});case I:return Object(X.a)({},e,{msg:"",isError:!1,isLoading:!1,isSuccess:!1});case C:return Object(X.a)({},e,{users:pe.users,currentUser:t.payload});case R:return Object(X.a)({},e,{currentUser:pe.currentUser,users:t.payload});case O:return Object(X.a)({},e,{users:[].concat(Object(he.a)(e.users),[t.payload])});case y:return Object(X.a)({},e,{users:e.users.filter((function(e){return e.id!==t.payload}))});case D:return Object(X.a)({},e,{isEditing:t.payload});case j:return Object(X.a)({},e,{users:t.payload,isEditing:!1});case x:return Object(X.a)({},e,{inputValue:t.payload});default:return e}}}),be=Object(me.d)(fe,me.a.apply(void 0,Ee));l.a.render(r.a.createElement(s.a,{store:be},r.a.createElement(u.a,null,r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(i.a,{exact:!0,path:"/read/:id",component:b}),r.a.createElement(g,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:oe}),r.a.createElement(i.a,{exact:!0,path:"/read/:id",component:z}),r.a.createElement(i.a,{component:K}))))}),null))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.2bc6d5ab.chunk.js.map