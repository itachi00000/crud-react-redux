(this["webpackJsonpcrud-react-redux"]=this["webpackJsonpcrud-react-redux"]||[]).push([[0],{47:function(e,t,a){e.exports=a(79)},77:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),s=a.n(l),c=a(16),u=a(18),i=a(17),o=a(9),m=a(10),d=a(12),h=a(11),p=a(13),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={date:new Date},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,this.state.date.toLocaleTimeString()))}}]),t}(n.Component);var f=function(){return r.a.createElement("header",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"CRUD using React"),r.a.createElement("p",{className:"lead"},"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Explicabo, veniam?"),r.a.createElement(E,null)))};function b(){return r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/",type:"button",className:"btn btn-outline-danger"},"Back Home"))}var v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={hasError:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),g=a(24),U=a.n(g);var y="DEL_USER",R="ADD_USER",O="UPD_USER",j="SEARCH_USER",x="GET_USERS",C="GET_USER",N="IS_LOADING",k="IS_SUCCESS",S="IS_ERROR",I="RESET",D="IS_EDITING",L="https://desolate-taiga-56372.herokuapp.com/robots";function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...";return{type:N,payload:e}}function A(){return{type:I}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default Error Msg";return{type:S,payload:e}}var B=function(e){return function(t){t(w()),U.a.get("".concat(L,"/").concat(e)).then((function(e){return t((a=e.data,{type:C,payload:a}));var a})).catch((function(e){console.error(e.message),t(T(e.message))})).finally((function(){return setTimeout((function(){t(A())}),1500)}))}};var _=function(e){return function(t){U.a.post("".concat(L),e).then((function(e){return t(function(e){return{type:R,payload:e}}(e.data))})).catch((function(e){console.error(e.message),t(T(e.message))})).finally((function(){return setTimeout((function(){t(A())}),1500)}))}},M=function(){return function(e){e(w()),U.a.get(L).then((function(t){var a;e((a=t.data,{type:x,payload:a})),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default Success Msg";return{type:k,payload:e}}("Success Fetch"))})).catch((function(t){console.error("ERROR at fetchAllUsers::",t.message),e(T(t.message))})).finally((function(){return setTimeout((function(){e(A())}),1500)}))}};var V=Object(c.b)((function(e){return{currentUserRx:e.userReducer.currentUser,isLoadingRx:e.userReducer.isLoading,isErrorRx:e.userReducer.isError,errorMsgRx:e.userReducer.msg}}),(function(e){return{fetchUserRx:function(t){return e(B(t))}}}))((function(e){var t=e.fetchUserRx,a=e.currentUserRx,l=e.isErrorRx,s=e.isLoadingRx,c=e.errorMsgRx,u=e.match,i=Number(u.params.id);if(Object(n.useEffect)((function(){t(i)}),[t,i]),l)return r.a.createElement("div",{className:"container"},c);if(s||!a)return r.a.createElement("div",{className:"container"},"Loading...");var o=a.id,m=a.name,d=a.username,h=a.email;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Hi,",d||"Default Username"," ",o||"no id"),r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("li",null,"Name:"," ".concat(m||"default name")),r.a.createElement("li",null,"Email:"," ".concat(h||"default email")))))}));function G(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,"Error Page")))}var P=a(43),F=a(3),H=a(4),J=a(44),W=a.n(J);var q=function(e){var t=e.delUser,a=e.editUser,n=e.id;return r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group"},r.a.createElement(u.b,{to:"/read/".concat(n),type:"button",className:"btn btn-sm btn-info"},"Read"),r.a.createElement("button",{onClick:function(e){return a(e,n)},type:"button",className:"btn btn-sm btn-primary"},"Edit"),r.a.createElement("button",{onClick:function(e){return t(e,n)},type:"button",className:"btn btn-sm btn-outline-danger"},"Delete")))},z=a(19),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={name:e.name,username:e.username,email:e.email},a.handleChangeInput=a.handleChangeInput.bind(Object(H.a)(a)),a.handleUpdateBtn=a.handleUpdateBtn.bind(Object(H.a)(a)),a.handleCancelBtn=a.handleCancelBtn.bind(Object(H.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChangeInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(z.a)({},a,n))}},{key:"handleUpdateBtn",value:function(e){var t=this.props.id,a=this.state,n=a.name,r=a.username,l=a.email;this.props.updateUser(e,{id:t,name:n,username:r,email:l})}},{key:"handleCancelBtn",value:function(e){this.props.editUser(e,null)}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.username,n=e.email;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.id),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChangeInput,type:"text",value:t,name:"name",placeholder:"Enter Name",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChangeInput,type:"text",value:a,name:"username",placeholder:"Enter username",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChangeInput,type:"email",value:n,name:"email",placeholder:"Email",className:"form-control"})),r.a.createElement("td",{className:"btn-group"},r.a.createElement("button",{type:"button",onClick:this.handleUpdateBtn,className:"btn btn-primary "},"Update"),r.a.createElement("button",{type:"button",onClick:this.handleCancelBtn,className:"btn btn-danger"},"Cancel")))}}]),t}(r.a.Component);var Q=function(e){var t=e.editing,a=e.currentId,n=e.id,l=e.name,s=e.username,c=e.email,u=e.delUser,i=e.editUser,o=e.addUser,m=e.updateUser;return t&&n===a?r.a.createElement(K,{addUser:o,editUser:i,updateUser:m,currentId:a,id:n,name:l,username:s,email:c}):r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s||"-"),r.a.createElement("td",null,c||"-"),r.a.createElement(q,{id:n,editUser:i,delUser:u}))};var X=Object(c.b)((function(e){return{inputValueRx:e.userReducer.inputValue}}))((function(e){var t=e.inputValueRx,a=e.dispatch;return r.a.createElement("input",{type:"search",name:"search",className:"form-control w-75",value:t,placeholder:"Search...",onChange:function(e){return a((t=e.target.value,{type:j,payload:t}));var t}})})),Y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={name:"",username:"",email:""},e.handleChange=e.handleChange.bind(Object(H.a)(e)),e.handleClick=e.handleClick.bind(Object(H.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(z.a)({},a,n))}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,a=t.nextId,n=t.addUser,r=this.state;n(e,{name:r.name,username:r.username,email:r.email,nextId:a}),this.setState({name:"",username:"",email:""})}},{key:"render",value:function(){var e=this.props.nextId,t=this.state,a=t.name,n=t.username,l=t.email;return r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChange,type:"text",value:a,name:"name",placeholder:"Enter Name",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("textarea",{onChange:this.handleChange,value:n,name:"username",placeholder:"Enter username",className:"form-control",rows:"1"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:this.handleChange,type:"email",value:l,name:"email",placeholder:"enter email",className:"form-control"})),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-success btn-block"},"Add User")))}}]),t}(r.a.Component);function Z(e){var t=e.isLoading,a=e.isError,n=e.msg;return r.a.createElement("h4",{className:"alert ".concat((t||a)&&"alert-danger"," alert-success  text-center mb-0")},(a||t||n)&&n)}var $=function(e){var t=e.users,a=e.otherProps,n=a.isLoadingRx,l=a.isErrorRx,s=a.msgRx,c=e.updateUser,u=e.delUser,i=e.addUser,o=e.editUser,m=e.editing,d=e.currentId,h=t.length?+t[t.length-1].id+1:1,p=n||l||s;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card mx-auto"},r.a.createElement("div",{className:"card-header text-white bg-info clearfix"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Users Table")),r.a.createElement("div",{className:"col"},r.a.createElement(X,null)))),p&&r.a.createElement(Z,{isLoading:n,isError:l,msg:s}),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t.length>0?t.map((function(e){return r.a.createElement(Q,{key:W.a.v4(),id:e.id,name:e.name,username:e.username,email:e.email,updateUser:c,delUser:u,editUser:o,addUser:i,editing:m,currentId:d})})):r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",{colSpan:5},"Sorry, No User Available")),r.a.createElement(Y,{nextId:h,addUser:i})))))))},ee=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={status:{isEditing:!1,currentId:null},alerts:{isEmpty:!1,alertMsg:""}},e.onDelUser=e.onDelUser.bind(Object(H.a)(e)),e.onAddUser=e.onAddUser.bind(Object(H.a)(e)),e.onEditUser=e.onEditUser.bind(Object(H.a)(e)),e.onUpdateUser=e.onUpdateUser.bind(Object(H.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsersRx()}},{key:"onDelUser",value:function(e,t){this.state.status.isEditing||this.props.deleteUserRx(t)}},{key:"onEditUser",value:function(e,t){this.setState((function(e){return{status:{isEditing:!e.status.isEditing,currentId:t}}}))}},{key:"onUpdateUser",value:function(e,t){var a=t.id,n=t.name,r=t.username,l=t.email;if(n.trim()&&r.trim()&&l.trim()){var s=this.props.usersRx.map((function(e){var t=null;return e.id===a&&(t={id:a,name:n,username:r,email:l}),t||e}));this.props.updateUserRx(s),this.setState({status:{isEditing:!1,currentId:null}})}else this.setState((function(e){return{alerts:Object(F.a)({},e.alerts,{isEmpty:!0,alertMsg:"Enter Text"})}}))}},{key:"onAddUser",value:function(e,t){var a=t.name,n=t.username,r=t.email;t.nextId;a.trim()&&n.trim()&&r.trim()?this.props.fetchAddUserRx({name:a,username:n,email:r}):this.setState((function(e){return{alerts:Object(F.a)({},e,{isEmpty:!0,alertMsg:"Enter Text"})}}))}},{key:"render",value:function(){var e=this.state.status,t=e.isEditing,a=e.currentId,n=this.props,l=n.inputValueRx,s=n.usersRx,c=Object(P.a)(n,["inputValueRx","usersRx"]),u=s.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase().trim())}));return r.a.createElement("main",null,r.a.createElement($,{otherProps:c,users:u,delUser:this.onDelUser,addUser:this.onAddUser,editUser:this.onEditUser,updateUser:this.onUpdateUser,editing:t,currentId:a}),r.a.createElement("div",{style:{height:"300px"}}))}}]),t}(r.a.Component),te=Object(c.b)((function(e){return{inputValueRx:e.userReducer.inputValue,usersRx:e.userReducer.users,isLoadingRx:e.userReducer.isLoading,isErrorRx:e.userReducer.isError,msgRx:e.userReducer.msg}}),(function(e){return{fetchAddUserRx:function(t){return e(_(t))},deleteUserRx:function(t){return e(function(e){return{type:y,payload:e}}(t))},updateUserRx:function(t){return e({type:O,payload:t})},fetchUsersRx:function(){return e(M())}}}))(ee);function ae(){return r.a.createElement(te,null)}a(77);var ne=a(20),re=(a(78),a(45)),le=a(46),se={inputValue:"",users:[],currentUser:null,isEditing:!1,isLoading:!1,isSuccess:!1,isError:!1,msg:""},ce=[re.a],ue=Object(ne.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.type,t.payload;switch(t.type){case N:return Object(F.a)({},e,{isLoading:!0,msg:t.payload});case k:return Object(F.a)({},e,{isLoading:!1,isSuccess:!0,msg:t.payload});case S:return Object(F.a)({},e,{isLoading:!1,isError:!0,msg:t.payload});case I:return Object(F.a)({},e,{msg:"",isError:!1,isLoading:!1,isSuccess:!1});case C:return Object(F.a)({},e,{users:se.users,currentUser:t.payload});case x:return Object(F.a)({},e,{currentUser:se.currentUser,users:t.payload});case R:return Object(F.a)({},e,{users:[].concat(Object(le.a)(e.users),[t.payload])});case y:return Object(F.a)({},e,{users:e.users.filter((function(e){return e.id!==t.payload}))});case D:return Object(F.a)({},e,{isEditing:t.payload});case O:return Object(F.a)({},e,{users:t.payload,isEditing:!1});case j:return Object(F.a)({},e,{inputValue:t.payload});default:return e}}}),ie=Object(ne.d)(ue,ne.a.apply(void 0,ce));s.a.render(r.a.createElement(c.a,{store:ie},r.a.createElement(u.a,null,r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(i.a,{exact:!0,path:"/read/:id",component:b}),r.a.createElement(v,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:ae}),r.a.createElement(i.a,{exact:!0,path:"/read/:id",component:V}),r.a.createElement(i.a,{component:G}))))}),null))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.3d190a5c.chunk.js.map